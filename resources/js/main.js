$.extend($.lazyLoadXT,{edgeY:200,srcAttr:"data-src",visibleOnly:!1}),$(document).ready(function(){function e(e,a){var t=!1,i=void 0;$(e).children(a).each(function(){var e=$(this).position().top;(i=void 0===i?e:i)<e&&(t=!0)}),1==t?$(e).addClass("wrapped"):$(e).removeClass("wrapped")}if(void 0!==window.ontouchstart&&($("debug").html("touch"),$("html").addClass("has_touch")),$(window).resize(function(){e(".header nav","div")}),e(".header nav","div"),$("img").on("lazyload",function(){$(this).parent(".lazy-wrapper").addClass("lazy-wrapper-loaded").removeClass("lazy-wrapper")}),$(".lazy-youtube button").on("click",function(){var e=$(this).parent(".lazy-youtube"),a='<iframe class="youtube" frameborder=\'0\' src="'+e.attr("data-src")+'" allowfullscreen></iframe>';e.append(a),e.children("iframe").unwrap()}),$(".masonry")[0]){var a=$(".masonry").masonry({itemSelector:".masonry-thumb",FitWidth:!0,percentWidth:!0,gutter:".gutter",transitionDuration:"0.3s"});$(".masonry img").on("lazyload",function(){a.masonry("layout")})}function o(a,e){$("#fullscreen-gallery").show().children().css("visibility","hidden"),e.preventDefault(),$("#fullscreen-gallery").find(".lazy-wrapper, .lazy-wrapper-loaded").remove(),$("#fullscreen-gallery").find("figcaption").remove();var t=a.index(),i=a.parent(".gallery").children("figure").length-1,r=a.find(".lazy-wrapper, .lazy-wrapper-loaded");$img=r.children("img");var l=a.find("figcaption");if(void 0!==$img.attr("is_thumb")){var s=$img.attr("src");s=s.replace(/(.*)-([0-9]+)x([0-9]+)(\..*)/,function(e,a,t,i,r){return s=a+r}),$img.attr("data-src",s).attr("src",s).removeClass("lazy-loaded").removeClass("lazy-hidden").addClass("lazy").lazyLoadXT({show:!0}),$img.removeAttr("is_thumb")}(l=l.clone()).appendTo("#fullscreen-gallery .container"),(r=r.clone()).appendTo("#fullscreen-gallery figure");var n=void 0!==l.height()?l.height():0;$("#fullscreen-gallery").find("figure").css("max-height","calc(100vh - "+n+"px)"),r.removeClass("lazy-wrapper-loaded").addClass("lazy-wrapper").children("img").lazyLoadXT({show:!0}),$("#fullscreen-gallery").find(".left, .right").show(),t==i&&$("#fullscreen-gallery .right").hide(),0==t&&$("#fullscreen-gallery .left").hide(),i<0&&$("#fullscreen-gallery .left, #fullscreen-gallery .right").hide(),$("#fullscreen-gallery").children().css("visibility","visible"),$("#fullscreen-gallery").not(".left, .right").click(function(e){if($(e.target).hasClass("right")||$(e.target).hasClass("left")||$(this).fadeOut(),$(e.target).hasClass("right"))o(a.parent(".gallery").children("figure").eq(t+1),e);else if($(e.target).hasClass("left")){o(a.parent(".gallery").children("figure").eq(t-1),e)}})}$(".gallery")[0]&&$(".gallery figure").click(function(e){o($(this),e)}),$(".single .thumb").click(function(e){o($(this),e)}),$("pre").each(function(){hljs.highlightBlock(this)}),$("form")[0]&&($(".form-dropdown").on("change",function(){"other"==$(this).val().toLowerCase()?$(".dropdown-extra").show().addAtrr("required").required=!0:$(".dropdown-extra").hide().removeAttr("required")}),$("#file").bind("change",function(){var e=$(".limit").html();this.files[0];if(10<=(this.files[0].size/1024/1024).toFixed(2))return $(".info").html(""),$(".limit").html("Your file is "+(this.files[0].size/1024/1024).toFixed(2)+"MB. It must be less than 10MB."),void $(this).val("");"Upload Limit: 10MB"!==e&&$(".limit").html("Upload Limit: 10MB");var a=(this.files[0].size/1024/1024).toFixed(2);0==a&&(a=(this.files[0].size/1024/1024).toFixed(3)),$(".info").html("Attached: "+this.files[0].name+" ("+a+'MB) <span class="contact-cancel">Cancel</span>'),$(".info").on("click",".contact-cancel",function(){$("#file").val(""),$(".info").html(""),$(".icon-upload-cloud").removeClass("animate-pulse")})}),$("form").on("submit",function(){""!==$("#file").val()&&document.getElementById("form").checkValidity()&&($(".icon-upload-cloud").addClass("animate-pulse"),$(".file-placeholder").html("Uploading..."))})),$(".search-trigger").click(function(){$(this).parents(".search-box").toggleClass("search-hide"),$(".search-results").hide(),e(".header nav","div"),$("input#search").focus()});var x=void 0,z=!1,i=0,r=void 0;$.getJSON("/resources/index.json",function(e){z=!1,x=e}).fail(function(e){r="fail"}),$("input#search").on("input",function(){var a,t;if(void 0!==r&&"fail"==r)return $(".search-trigger").removeClass("animate-spin"),$("input#search").off(),void $(".search-results").append('<div class="no-results">There was a problem loading the search engine. If this keeps happening,  please contact me.</div>').show();if(!z){z=!0;var e=$(this);$(".search-trigger").addClass("animate-spin"),setTimeout((a=e,void(t=setInterval(function(){if(i++,void 0!==x?(clearInterval(t),function(e){var a=e.val().toLowerCase(),t=$(".search-results");t.empty().hide();if(0==a.length||-1!==["i","about","an","are","as","at","be","by","com","for","from","in","is","it","of","on","or","that","the","this","to","was","what","when","where","who","will","with","the","www","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].indexOf(a))$(".search-trigger").removeClass("animate-spin");else{for(item in x){var i=x[item],r="",l="";for(property in i){var s="",n=0;if("permalink"!=property){var o=i[property];if("tags"==property)var h=1;else var h=o.toLowerCase().indexOf(a.toLowerCase());if(-1!==h){if("tags"==property){var c=o.slice(),d="";for(tag in c){if(-1!==c[tag].toLowerCase().indexOf(a.toLowerCase())){var f=c[tag].toLowerCase().indexOf(a.toLowerCase());c[tag]=c[tag].slice(0,f)+'<span class="search-match-highlight">'+c[tag].slice(f,f+a.length)+"</span>"+c[tag].slice(f+a.length,c[tag].length)}c[tag]='<a href="/tags/'+c[tag].replace(/(-|\/)/g,"").replace(/(\'|\"|\(|\)|\[|\]|\?|\+)/g,"").replace(/(\s)+/g,"-").toLowerCase()+'"><div class="tags">'+c[tag]+"</div></a>"}-1!==c.indexOf("match-highlight")&&(d+=c.join(""))}else for(var g=0<=h-20&&"title"!==property&&"tags"!==property?h-20:0,p=h+a.length+300<=o.length&&"title"!==property&&"tags"!==property?h+a.length+300:o.length,d=o.slice(g,h)+'<span class="search-match-highlight">'+o.slice(h,h+a.length)+"</span>",u=h;u<=p;){n++;var m=u+a.length,v=o.toLowerCase().slice(u+a.length,p).indexOf(a.toLowerCase());if(u=m+v,-1==v){d+=o.slice(m,p);break}d=d+o.slice(m,u)+'<span class="search-match-highlight">'+o.slice(u,u+a.length)+"</span>"}if("title"!==property&&"tags"!==property){var y=0!==d.indexOf("<")?d.indexOf(" ")+1:0,w=d.lastIndexOf(">")!==d.length&&d.lastIndexOf(" ")>d.lastIndexOf(">")?d.lastIndexOf(" "):d.length;d=d.slice(y,w),0!==g&&(d="..."+d),(g+d.length<p||g+d.length<o.length)&&(d+="..."),total_matches=o.split(a).length-1,total_matches>n&&(d=d+' + <span class="more-matches">'+(total_matches-n)+" more matches.</span>");var d='<div class="'+property+'">'+d+"</div>";s+=d}else if("tags"==property){if(""!==d)var d='<div class="taxnms">'+d+"</div>";s+=d}else r='<div class="search-match-title"><a href="'+i.permalink+'">'+d+"</a></div>"}""!==s&&(l+=s)}}if(""!==l||""!==r){""==r&&(r='<div class="search-match-title"><a href="'+i.permalink+'">'+i.title+"</a></div>");var C='<div class="search-match">'+r+'<div class="search-match-contents">'+l+"</div></div>";t.append(C)}}""!==t?t.show():t.append('<div class="no-results">0 matches found.</div>').show(),$(".search-trigger").removeClass("animate-spin")}z=!1}(a)):z=!1,20==i){var e=$(".search-results");e.append('<div class="no-results">Your connection seems slow. Search might take a while to load.</div>').show()}},1e3))),1e3)}})});